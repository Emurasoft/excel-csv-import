(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{417:function(t,e,n){(function(n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){a(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,a){var u=i.URL||i.webkitURL,s=document.createElement("a");n=n||t.name||"download",s.download=n,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?r(s):o(s.href)?e(t,n,a):r(s,s.target="_blank")):(s.href=u.createObjectURL(t),setTimeout(function(){u.revokeObjectURL(s.href)},4e4),setTimeout(function(){r(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(o(t))e(t,n,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){r(a)})}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var a="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&u)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},c.readAsDataURL(t)}else{var l=i.URL||i.webkitURL,p=l.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout(function(){l.revokeObjectURL(p)},4e4)}});i.saveAs=a.saveAs=a,t.exports=a})?o.apply(e,r):o)||(t.exports=i)}).call(this,n(86))},515:function(t,e,n){"use strict";n.r(e);var o=n(1),r=n(391),i=n(500),a=n(399),u=n(70);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b,y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,p(e).apply(this,arguments))}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){var t,e=this,n=this.props.t,r={key:b.text,text:n("Textbox")};return t=this.props.enableFileExport?[{key:b.file,text:n("File")},r]:[r],o.createElement(i.a,{label:n("Export type"),options:t,responsiveMode:a.ResponsiveMode.large,selectedKey:this.props.value,onChange:function(t,n){return e.props.onChange(n.key)}})}}])&&c(n.prototype,r),u&&c(n,u),e}(),d=Object(u.e)("importExport")(y),h=n(449),m=n(450),v=n(509),w=n(506),x=n(504),E=n(498),g=n(513),O=n(71),T=n(417),S=n(457),k=n(451),j=n(85),C=n(452),R=n(453),_=n(454),L=n(455);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e,n,o,r,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(o,r)}function F(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var i=t.apply(e,n);function a(t){A(i,o,r,a,u,"next",t)}function u(t){A(i,o,r,a,u,"throw",t)}a(void 0)})}}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"ExportType",function(){return b}),n.d(e,"ExportComponent",function(){return H}),function(t){t[t.file=0]="file",t[t.text=1]="text"}(b||(b={}));var H=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=U(this,D(e).call(this,t,"export",{exportType:b.file,delimiter:",",newline:O.b.CRLF,encoding:"UTF-8",outputText:{show:!1,text:""}},["exportType","delimiter","newline","encoding"]))).exportTypeDropdownValue=function(){return n.props.store.state.enableFileExport?n.state.exportType:b.text},n.buttonOnClick=F(regeneratorRuntime.mark(function t(){var e,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t,e){return e.exportType===b.text?e.outputText.show?{show:!t.outputText.show,text:t.outputText.text}:{show:t.outputText.show,text:t.outputText.text}:{show:!1,text:""}},o=Object.assign({},n.state),n.props.store.state.enableFileExport||(o.exportType=b.text),n.setState(function(t){return{outputText:e(t,o)}}),t.next=6,n.props.store.csvStringAndName(n.state);case 6:if(null!==(r=t.sent)){t.next=9;break}return t.abrupt("return");case 9:n.saveOrOutput(r,o);case 10:case"end":return t.stop()}},t)})),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,_["a"]),n=e,(r=[{key:"render",value:function(){var t=this,e=this.props.t,n=o.createElement(v.a,{label:e("Export result"),className:j.monospace,readOnly:!0,multiline:!0,rows:15,spellCheck:!1,wrap:"off",value:this.state.outputText.text}),r=o.createElement(w.a,{style:{color:"red"},variant:"medium"},e("Large file export is not supported"));return o.createElement(o.Fragment,null,o.createElement(L.a,{hidden:"iPad"!==navigator.platform,onClick:function(e){return t.props.history.push(e)}}),o.createElement("div",{className:j.pageMargin},o.createElement(w.a,{variant:"xLarge"},o.createElement("strong",null,e("Export CSV"))),o.createElement(d,{enableFileExport:this.props.store.state.enableFileExport,value:this.exportTypeDropdownValue(),onChange:function(e){return t.setState({exportType:e})}}),o.createElement("br",null),o.createElement(S.a,{value:this.state.encoding,onChange:function(e){return t.setState({encoding:e})},hidden:this.state.exportType===b.text,showAutoDetect:!1}),o.createElement(h.a,{value:this.state.delimiter,onChange:function(e){return t.setState({delimiter:e})},showAutoDetect:!1,showLengthError:!1}),o.createElement("br",null),o.createElement(m.a,{value:this.state.newline,onChange:function(e){return t.setState({newline:e})},showAutoDetect:!1}),o.createElement("br",null),o.createElement(x.a,{styles:{root:{display:"inline-block"}},content:this.buttonTooltipContent()},o.createElement(E.a,{onClick:this.buttonOnClick,disabled:""!==this.buttonTooltipContent(),text:e("Export to CSV")})),o.createElement("br",null),this.props.store.state.largeFile?r:null,o.createElement(k.a,{onClick:this.props.store.abort,progress:this.props.store.state.progress}),o.createElement(g.a,{inlineLabel:!0,label:e("Save options"),defaultChecked:this.initialSaveStatus(),onChange:function(e,n){return t.setSaveStatus(n)}}),this.state.outputText.show?n:null,o.createElement(R.a,{parserOutput:this.props.store.state.parserOutput}),o.createElement(C.a,null)))}},{key:"saveOrOutput",value:function(t,e){switch(e.exportType){case b.file:var n={type:"text/csv;charset="+e.encoding},o=new Blob([t.string],n);return void T.saveAs(o,t.name+".csv");case b.text:return void this.setState(function(e){return{outputText:{show:!e.outputText.show,text:t.string}}})}}},{key:"buttonTooltipContent",value:function(){return this.props.store.state.initialized?"":this.props.t("Excel API is not initialized")}}])&&M(n.prototype,r),i&&M(n,i),e}();e.default=Object(u.e)("importExport")(Object(r.a)(H))}}]);
//# sourceMappingURL=export.86b7dd5fbd27b17615d5.js.map