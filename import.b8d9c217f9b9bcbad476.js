(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{125:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var s,o=n(0),r=n(213),i=n(205),a=n(24),l=n(97),c=n(18);!function(e){e[e.autoDetect=0]="autoDetect",e[e.comma=1]="comma",e[e.space=2]="space",e[e.tab=3]="tab",e[e.other=4]="other"}(s||(s={}));class p extends o.Component{constructor(e){super(e),this.dropdownOnChange=((e,t)=>{const n={[s.autoDetect]:"",[s.comma]:",",[s.space]:" ",[s.tab]:"\t",[s.other]:""};this.setState({otherSelected:t.key===s.other}),this.props.onChange(n[t.key])}),this.getErrorMessage=(e=>this.props.showLengthError&&e.length>1?this.props.t("Delimiter length must be 0 or 1"):""),this.state={otherSelected:!1},this._stringToDropdownKey={",":s.comma," ":s.space,"\t":s.tab};const t=[{key:s.comma,text:"Comma (U+002C)"},{key:s.space,text:"Space (U+0020)"},{key:s.tab,text:"Tab (U+0009)"},{key:s.other,text:e.t("Other")}],n={key:s.autoDetect,text:e.t("Auto-detect")};e.showAutoDetect?(this._stringToDropdownKey[""]=s.autoDetect,this._dropdownOptions=[n,...t]):this._dropdownOptions=t}render(){const e=this.props.t,t=o.createElement("div",{className:a.smallDivider},o.createElement(r.a,{className:a.monospace,value:this.props.value,onChange:(e,t)=>this.props.onChange(t),description:p.description(this.props.value),onGetErrorMessage:this.getErrorMessage,deferredValidationTime:1,placeholder:e("Enter custom delimiter")}));return o.createElement(o.Fragment,null,o.createElement(i.a,{label:e("Delimiter"),options:this._dropdownOptions,responsiveMode:l.ResponsiveMode.large,selectedKey:this.selectedKey(),onChange:this.dropdownOnChange}),this.showCustomInput()?t:null)}static description(e){return 1==e.length?p.codePoint(e):""}static codePoint(e){return"U+"+e[0].charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")}showCustomInput(){if(this.state.otherSelected)return!0;const e=[","," ","\t"];return this.props.showAutoDetect&&e.push(""),!e.includes(this.props.value)}selectedKey(){return this.state.otherSelected?s.other:this.props.value in this._stringToDropdownKey?this._stringToDropdownKey[this.props.value]:s.other}}const u=Object(c.e)("importExport")(p)},126:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n(0),o=n(97),r=n(205),i=n(25),a=n(18);const l=Object(a.e)("importExport")(class extends s.Component{constructor(e){super(e);const t={key:i.c.AutoDetect,text:e.t("Auto-detect")},n=[{key:i.c.CRLF,text:"CRLF"},{key:i.c.CR,text:"CR"},{key:i.c.LF,text:"LF"}];e.showAutoDetect?this._options=[t,...n]:this._options=n}render(){const e=this.props.t;return s.createElement(r.a,{label:e("Newline sequence"),responsiveMode:o.ResponsiveMode.large,selectedKey:this.props.value,options:this._options,onChange:(e,t)=>this.props.onChange(t.key)})}})},127:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(0),o=n(210),r=n(215),i=n(216),a=n(24),l=n(18);const c=Object(l.e)("importExport")(class extends s.Component{render(){let e;return e=this.props.progress.show?s.createElement(s.Fragment,null,s.createElement(o.a,{variant:"small"},s.createElement(r.a,{onClick:this.props.onClick},this.props.t("Stop"))),s.createElement(i.a,{percentComplete:this.props.progress.percent})):s.createElement(o.a,{variant:"small"},"Â "),s.createElement("div",{className:a.smallDivider},e)}})},128:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(24),o=n(210),r=n(0),i=n(163),a=n(20),l=n(18);function c(){const{t:e}=Object(l.d)("importExport");return r.createElement("div",{className:s.bottomBar},r.createElement(o.a,{variant:"medium"},r.createElement(i.a,{to:a.a.about},e("About"))))}},129:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n(30),o=n(213),r=n(0),i=n(24);function a(e){switch(e.parserOutput.type){case s.b.hidden:return null;case s.b.info:return r.createElement(o.a,{className:i.monospace,value:e.parserOutput.output,rows:20,multiline:!0,spellCheck:!1,readOnly:!0});case s.b.error:return r.createElement(o.a,{className:i.monospace+" "+i.redText,value:e.parserOutput.output,rows:20,multiline:!0,spellCheck:!1,readOnly:!0})}}},130:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n(0);class o extends s.Component{constructor(e,t,n,s){super(e),this._namespace=t,this._saveKeys=s,this._initialSave=localStorage&&'"true"'===localStorage["StoredComponent-save"],this._save=this._initialSave;let r={};this._save&&(r=o.loadState(t,s)),this.state=Object.assign({},n,r)}render(){return this.props.children}setState(e){super.setState(e),this._save&&"object"==typeof e&&this.saveState(e)}initialSaveStatus(){return this._initialSave}setSaveStatus(e){this._save=e,e?(localStorage.setItem("StoredComponent-save",'"true"'),this.saveState(this.state)):localStorage.clear()}static loadState(e,t){const n={};for(const s of Object.entries(localStorage))s[0].substring(0,e.length+1)===e+"-"&&t.includes(s[0].substring(e.length+1))&&(n[s[0].substring(e.length+1)]=JSON.parse(s[1]));return n}saveState(e){for(const t of Object.entries(e))if(this._saveKeys.includes(t[0])){const e=this._namespace+"-"+t[0];localStorage.setItem(e,JSON.stringify(t[1]))}}}},134:function(e,t,n){"use strict";var s=n(0),o=n(205);const r=[{key:"Big5",text:"Big5"},{key:"EUC-JP",text:"EUC-JP"},{key:"EUC-KR",text:"EUC-KR"},{key:"GBK",text:"GBK"},{key:"IBM866",text:"IBM866 (Cyrillic)"},{key:"ISO-2022-JP",text:"ISO-2022-JP (JIS)"},{key:"ISO-8859-10",text:"ISO-8859-10 (Latin-6)"},{key:"ISO-8859-13",text:"ISO-8859-13 (Latin-7)"},{key:"ISO-8859-14",text:"ISO-8859-14 (Latin-8)"},{key:"ISO-8859-15",text:"ISO-8859-15 (Latin-9)"},{key:"ISO-8859-16",text:"ISO-8859-16 (Latin-10)"},{key:"ISO-8859-2",text:"ISO-8859-2 (Central European)"},{key:"ISO-8859-3",text:"ISO-8859-3 (Latin 3)"},{key:"ISO-8859-4",text:"ISO-8859-4 (Latin-4)"},{key:"ISO-8859-5",text:"ISO-8859-5 (Cryillic)"},{key:"ISO-8859-6",text:"ISO-8859-6 (Arabic)"},{key:"ISO-8859-7",text:"ISO-8859-7 (Greek)"},{key:"ISO-8859-8",text:"ISO-8859-8 (Hebrew)"},{key:"ISO-8859-8-I",text:"ISO-8859-8-I (Hebrew)"},{key:"KOI8-R",text:"KOI8-R"},{key:"KOI8-U",text:"KOI8-U"},{key:"Shift_JIS",text:"Shift_JIS"},{key:"UTF-16BE",text:"UTF-16BE"},{key:"UTF-16LE",text:"UTF-16LE"},{key:"UTF-8",text:"UTF-8"},{key:"gb18030",text:"gb18030"},{key:"macintosh",text:"macintosh"},{key:"replacement",text:"replacement"},{key:"windows-1250",text:"windows-1250 (Central European)"},{key:"windows-1251",text:"windows-1251 (Cyrillic)"},{key:"windows-1252",text:"windows-1252 (Western European)"},{key:"windows-1253",text:"windows-1253 (Greek)"},{key:"windows-1254",text:"windows-1254 (Turkish)"},{key:"windows-1255",text:"windows-1255 (Hebrew)"},{key:"windows-1256",text:"windows-1256 (Arabic)"},{key:"windows-1257",text:"windows-1257 (Baltic)"},{key:"windows-1258",text:"windows-1258 (Vietnamese)"},{key:"windows-874",text:"windows-874 (Thai)"},{key:"x-mac-cyrillic",text:"x-mac-cyrillic"},{key:"x-user-defined",text:"x-user-defined"}];var i=n(18);n.d(t,"a",function(){return a});const a=Object(i.e)("importExport")(class extends s.Component{constructor(e){super(e);const t={key:"",text:e.t("Auto-detect")};e.showAutoDetect?this._dropdownOptions=[t,...r]:this._dropdownOptions=r}render(){const e=this.props.t;return this.props.hidden?null:s.createElement(s.Fragment,null,s.createElement(o.a,{label:e("Encoding"),selectedKey:this.props.value,options:this._dropdownOptions,onChange:(e,t)=>this.props.onChange(t.key)}),s.createElement("br",null))}})},218:function(e,t,n){"use strict";n.r(t);var s=n(0),o=n(98),r=n(208),i=n(131),a=n(203),l=n(217),c=n(25),p=n(24),u=n(213),h=n(205),d=n(97),m=n(18);const y=Object(m.e)("importExport")(class extends s.Component{constructor(){super(...arguments),this.dropdownOnChange=((e,t)=>{this.props.onChange({inputType:t.key,file:null,text:""})}),this.fileOnChange=(e=>{this.props.onChange({inputType:c.b.file,file:e.target.files[0],text:""})})}render(){const e=this.props.t,t=[{key:c.b.file,text:e("File")},{key:c.b.text,text:e("Text input")}],n={[c.b.file]:s.createElement(s.Fragment,null,s.createElement("input",{className:p.fullWidth,type:"file",accept:"text/csv",onChange:this.fileOnChange,id:"SourceInput-FileInput"}),s.createElement("br",null)),[c.b.text]:s.createElement(u.a,{className:p.monospace,multiline:!0,rows:10,wrap:"off",onChange:(e,t)=>this.props.onChange({inputType:c.b.text,text:t}),value:this.props.value.text,id:"SourceInput-TextInput"})};return s.createElement(s.Fragment,null,s.createElement(h.a,{label:e("Import type"),options:t,responsiveMode:d.ResponsiveMode.large,selectedKey:this.props.value.inputType,onChange:this.dropdownOnChange,id:"SourceInput-Dropdown"}),s.createElement("div",{className:p.smallDivider}),n[this.props.value.inputType])}});var w=n(125),x=n(126),g=n(134),S=n(127),k=n(128),E=n(129),C=n(130);n.d(t,"ImportComponent",function(){return O});class O extends C.a{constructor(e){super(e,"import",{source:{inputType:c.b.file,file:null,text:""},delimiter:"",newline:c.c.AutoDetect,encoding:""},["delimiter","newline","encoding"]),this.buttonOnClick=(async()=>{await this.props.store.import(this.state)})}render(){const e=this.props.t;return s.createElement("div",{className:p.pageMargin},s.createElement(y,{value:this.state.source,onChange:e=>this.setState({source:e})}),s.createElement("br",null),s.createElement(g.a,{value:this.state.encoding,onChange:e=>this.setState({encoding:e}),hidden:this.state.source.inputType===c.b.text,showAutoDetect:!0}),s.createElement(w.a,{value:this.state.delimiter,onChange:e=>this.setState({delimiter:e}),showAutoDetect:!0,showLengthError:!0}),s.createElement("br",null),s.createElement(x.a,{value:this.state.newline,onChange:e=>this.setState({newline:e}),showAutoDetect:!0}),s.createElement("br",null),s.createElement(r.a,{styles:{root:{display:"inline-block"}},content:this.buttonTooltipContent(),delay:i.a.zero},s.createElement(a.a,{disabled:""!==this.buttonTooltipContent(),onClick:this.buttonOnClick,text:e("Import CSV")})),s.createElement("br",null),s.createElement(S.a,{onClick:this.props.store.abort,progress:this.props.store.state.progress}),s.createElement(l.a,{inlineLabel:!0,label:e("Save options"),defaultChecked:this.initialSaveStatus(),onChange:(e,t)=>this.setSaveStatus(t)}),s.createElement(E.a,{parserOutput:this.props.store.state.parserOutput}),s.createElement(k.a,null))}buttonTooltipContent(){const e=this.props.t;return this.state.source.inputType==c.b.file&&null==this.state.source.file?e("Import source is not selected"):this.state.delimiter.length>1?e("Delimiter is invalid"):this.props.store.state.initialized?"":e("Excel API is not initialized")}}t.default=Object(m.e)("importExport")(Object(o.a)(O))},98:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n(0),o=n(30);function r(e){return t=>s.createElement(o.a.Consumer,null,n=>s.createElement(e,Object.assign({},t,{store:n})))}}}]);
//# sourceMappingURL=import.b8d9c217f9b9bcbad476.js.map